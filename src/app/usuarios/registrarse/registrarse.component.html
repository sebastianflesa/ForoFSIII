<div class="register-box">
    <div class="register-logo">
      <a><b>F</b>oro :)</a>
    </div>
  
    <div class="card">
      <div class="card-body register-card-body">
        <p class="login-box-msg">Crea una nueva cuenta</p>
  
        <form #registroForm="ngForm" (ngSubmit)="registrarse(registroForm)" novalidate>
  
          <div class="form-group mb-3">
            <label>Nombre</label>
            <input type="text"
              class="form-control"
              name="name"
              [(ngModel)]="user.name"
              required minlength="2" maxlength="50"
              #name="ngModel"
              placeholder="Pepo">
            <div *ngIf="name.invalid && (name.touched || registroForm.submitted)" class="text-danger">
              <small *ngIf="name.errors?.['required']">El nombre es obligatorio.</small>
              <small *ngIf="name.errors?.['minlength']">Mínimo 2 caracteres.</small>
              <small *ngIf="name.errors?.['maxlength']">Máximo 50 caracteres.</small>
            </div>
          </div>
  
          <div class="form-group mb-3">
            <label>Nombre de usuario</label>
            <input type="text"
              class="form-control"
              name="username"
              [(ngModel)]="user.username"
              required minlength="4" maxlength="30"
              #username="ngModel"
              placeholder="JuanPerez">
            <div *ngIf="username.invalid && (username.touched || registroForm.submitted)" class="text-danger">
              <small *ngIf="username.errors?.['required']">El nombre de usuario es obligatorio.</small>
              <small *ngIf="username.errors?.['minlength']">Mínimo 4 caracteres.</small>
              <small *ngIf="username.errors?.['maxlength']">Máximo 30 caracteres.</small>
            </div>
          </div>
  
          <div class="form-group mb-3">
            <label>Email</label>
            <input type="email"
              class="form-control"
              name="email"
              [(ngModel)]="user.email"
              required email
              #email="ngModel"
              placeholder="ejemplo@correo.com">
            <div *ngIf="email.invalid && (email.touched || registroForm.submitted)" class="text-danger">
              <small *ngIf="email.errors?.['required']">El email es obligatorio.</small>
              <small *ngIf="email.errors?.['email']">Formato de email inválido.</small>
            </div>
          </div>

        <div class="form-group mb-3">
            <label>Fecha de nacimiento</label>
            <input
            type="date"
            class="form-control"
            name="fechaNacimiento"
            [(ngModel)]="user.fechaNacimiento"
            required
            max="{{ today }}"
            #fechaNacimiento="ngModel">
            <div *ngIf="fechaNacimiento.invalid && (fechaNacimiento.touched || registroForm.submitted)" class="text-danger">
            <small *ngIf="fechaNacimiento.errors?.['required']">La fecha de nacimiento es obligatoria.</small>
            <small *ngIf="fechaNacimiento.errors?.['max']">La fecha no puede ser futura.</small>
            </div>
        </div>
  
  
          <div class="form-group mb-3">
            <label>Contraseña</label>
            <input type="password"
              class="form-control"
              name="password"
              [(ngModel)]="user.password"
              required minlength="6" maxlength="20"
              #password="ngModel"
              placeholder="********">
            <div *ngIf="password.invalid && (password.touched || registroForm.submitted)" class="text-danger">
              <small *ngIf="password.errors?.['required']">La contraseña es obligatoria.</small>
              <small *ngIf="password.errors?.['minlength']">Mínimo 6 caracteres.</small>
              <small *ngIf="password.errors?.['maxlength']">Máximo 20 caracteres.</small>
            </div>
          </div>
  
          <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" id="acepta" [(ngModel)]="aceptaTerminos" name="acepta" required />
            <label class="form-check-label" for="acepta">Acepto terminos y condiciones</label>
            <div *ngIf="!aceptaTerminos && registroForm.submitted" class="text-danger">
              <small>Debes aceptar para registrarte</small>
            </div>
          </div>
  
          <div class="d-grid gap-2">
            <button class="btn btn-success" type="submit" [disabled]="registroForm.invalid || !aceptaTerminos">
              Registrarse
            </button>
          </div>
        </form>
  
        <p class="mt-3 mb-0">
          <a [routerLink]="'/auth/login'" class="text-center">Ya tengo cuenta</a>
        </p>
      </div>
    </div>
  
    <div *ngIf="error" class="alert alert-danger alert-dismissible fade show mt-3" role="alert">
      <strong>Error:</strong> {{ mensajeError }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
    </div>
  </div>
  